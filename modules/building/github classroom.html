<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.169">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel I. Cook">
<meta name="dcterms.date" content="2023-07-05">

<title>GitHub Classroom</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="github classroom_files/libs/clipboard/clipboard.min.js"></script>
<script src="github classroom_files/libs/quarto-html/quarto.js"></script>
<script src="github classroom_files/libs/quarto-html/popper.min.js"></script>
<script src="github classroom_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="github classroom_files/libs/quarto-html/anchor.min.js"></script>
<link href="github classroom_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="github classroom_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="github classroom_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="github classroom_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="github classroom_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#load-libraries" id="toc-load-libraries" class="nav-link active" data-scroll-target="#load-libraries">Load Libraries</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a></li>
  <li><a href="#github-classroom-guide-for-students" id="toc-github-classroom-guide-for-students" class="nav-link" data-scroll-target="#github-classroom-guide-for-students">GitHub Classroom Guide for Students</a>
  <ul class="collapse">
  <li><a href="#steps-for-getting-setup-with-git-github-and-rstudio" id="toc-steps-for-getting-setup-with-git-github-and-rstudio" class="nav-link" data-scroll-target="#steps-for-getting-setup-with-git-github-and-rstudio">Steps for getting setup with Git, GitHub, and RStudio</a></li>
  </ul></li>
  <li><a href="#steps-for-downloading-and-editing-assignments-from-github-classroom" id="toc-steps-for-downloading-and-editing-assignments-from-github-classroom" class="nav-link" data-scroll-target="#steps-for-downloading-and-editing-assignments-from-github-classroom">Steps for downloading and editing assignments from GitHub Classroom</a>
  <ul class="collapse">
  <li><a href="#problems-sets-and-group-projects" id="toc-problems-sets-and-group-projects" class="nav-link" data-scroll-target="#problems-sets-and-group-projects"><strong>Problems Sets and Group Projects</strong></a></li>
  <li><a href="#x" id="toc-x" class="nav-link" data-scroll-target="#x"><strong>X</strong></a></li>
  <li><a href="#x-1" id="toc-x-1" class="nav-link" data-scroll-target="#x-1"><strong>X</strong></a></li>
  <li><a href="#x-2" id="toc-x-2" class="nav-link" data-scroll-target="#x-2"><strong>X</strong></a></li>
  <li><a href="#x-3" id="toc-x-3" class="nav-link" data-scroll-target="#x-3"><strong>X</strong></a></li>
  <li><a href="#obtaining-and-pulling-a-shared-repository" id="toc-obtaining-and-pulling-a-shared-repository" class="nav-link" data-scroll-target="#obtaining-and-pulling-a-shared-repository">Obtaining and pulling a shared repository</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><strong>GitHub Classroom</strong></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel I. Cook </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 5, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="load-libraries" class="level2">
<h2 class="anchored" data-anchor-id="load-libraries">Load Libraries</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">Functions</h2>
<p>Get the class repo using <code>usethis::use_course()</code> and source it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#suppressWarnings(lapply(c("data", "r", "r/src", "figs", "docs"), FUN = function(x) dir.create(here::here(x))))</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#usethis::use_course(url = "https://github.com/slicesofdata/dataviz167/archive/master.zip", </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#                    destdir = here::here("r", "src"))</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#                    </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"r"</span>, <span class="st">"src"</span>, <span class="st">"dataviz-main167"</span>, <span class="st">"dataexternal_functions.R"</span>))) <span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"r/src/dataviz167-main"</span>, <span class="st">"external_functions.R"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="github-classroom-guide-for-students" class="level2">
<h2 class="anchored" data-anchor-id="github-classroom-guide-for-students">GitHub Classroom Guide for Students</h2>
<p>Note: This material is heavily adapted from <a href="https://github.com/jfiksel/github-classroom-for-students">Jacob Fisksel’s ‘github-classroom-for-students’ guide</a></p>
<p>This is a guide for students to setup Git, GitHub, and RStudio and to ensure that all the components are able to properly interact together. Each component is an independent tool and they are not always used together. However, these components work well together when learning and applying data science.</p>
<section id="steps-for-getting-setup-with-git-github-and-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="steps-for-getting-setup-with-git-github-and-rstudio">Steps for getting setup with Git, GitHub, and RStudio</h3>
<section id="read-a-little-about-gitgithubr" class="level4">
<h4 class="anchored" data-anchor-id="read-a-little-about-gitgithubr"><strong>Read a little about Git/GitHub/R</strong></h4>
<p>To understand better why we are using this particular combination of tools, look <a href="https://happygitwithr.com/big-picture.html">here</a></p>
</section>
<section id="install-git." class="level4">
<h4 class="anchored" data-anchor-id="install-git."><strong>Install Git</strong>.</h4>
<p>Directions for both Windows &amp; Mac <a href="http://happygitwithr.com/install-git.html">here</a>. Windows users should follow Option 1 in 6.2. Mac users can follow Option 1 in 6.3 if comfortable, otherwise follow Option 2.</p>
</section>
<section id="register-for-account-on-github-httpsgithub.com." class="level4">
<h4 class="anchored" data-anchor-id="register-for-account-on-github-httpsgithub.com."><strong>Register for account on GitHub (https://github.com/).</strong></h4>
<p>We recommend using a username that incorporates your name (jfiksel, mtaub, lrjager)</p>
</section>
<section id="download-r-and-rstudio" class="level4">
<h4 class="anchored" data-anchor-id="download-r-and-rstudio"><strong>Download R</strong> and <strong>RStudio</strong></h4>
<ul>
<li><a href="https://cran.r-project.org/">R</a></li>
<li><a href="https://www.rstudio.com/">RStudio</a></li>
</ul>
</section>
<section id="setup-options-in-git." class="level4">
<h4 class="anchored" data-anchor-id="setup-options-in-git."><strong>Setup options in Git.</strong></h4>
<p>We tell <code>Git</code> our name and email so it knows who to attribute changes to. In <code>Rstudio</code>, click on <code>Terminal</code> in the lower left pane and input the following two commands to setup your name and email.</p>
<p><code>git config --global user.name 'Jane Doe'</code></p>
<p><code>git config --global user.email 'jane@example.com'</code></p>
<p>The following command will confirm whether it worked or not: <code>git config --global --list</code></p>
</section>
<section id="setup-a-personal-access-token." class="level4">
<h4 class="anchored" data-anchor-id="setup-a-personal-access-token."><strong>Setup a PERSONAL ACCESS TOKEN</strong>.</h4>
<p>In order for your local machine to make changes to your GitHub account there needs to be some way to authenticate that you are the actual owner of the account. GitHub no longer allows authentication using the password you used when you setup your account online and prefers you use something call a PERSONAL ACCESS TOKEN (PAT).</p>
<pre><code>1. Go to https://github.com/settings/tokens and click “Generate new token."
    1. Choose a date after the end of the semester or no expiration
    2. Choose "repo,"user", and "workflow." 
    3. Temporarily copy your PAT to your clipboard
2. Store your PAT so that you don't have to input it each time you access GitHub
    1. Install an R package to help with PAT storage. In your `RStudio Console` tab, type `install.packages("gitcreds")`
    2. Type `gitcreds::gitcreds_set()` and paste your PAT when prompted. 
    3. Check that it worked by inputting `gitcreds::gitcreds_set()` This will allow you to connect to GitHub from RStudio in the next step.</code></pre>
</section>
<section id="setup-a-new-repository-and-make-sure-you-can-connect-to-it-via-rstudio" class="level4">
<h4 class="anchored" data-anchor-id="setup-a-new-repository-and-make-sure-you-can-connect-to-it-via-rstudio"><strong>Setup a new repository and make sure you can connect to it via RStudio</strong></h4>
<p><a href="https://happygitwithr.com/rstudio-git-github.html">rstudio-git-github.html</a>. You can ignore some of the items in 12.1 because we will skip Connecting directly to GitHub. We will always access GitHub via RStudio in this class.</p>
<pre><code>**Note: If you would like visual aids, [go here] (https://book.cds101.com/how-to-stage-commit-and-push-to-github-using-rstudio-server.html)**</code></pre>
<p><strong>Congratulations! You have setup all the software we need for the course!</strong></p>
</section>
<section id="optional-read-some-git-basics" class="level4">
<h4 class="anchored" data-anchor-id="optional-read-some-git-basics"><strong>(Optional) Read some Git basics</strong></h4>
<p><a href="https://happygitwithr.com/git-intro.html">git-intro.html</a></p>
</section>
</section>
</section>
<section id="steps-for-downloading-and-editing-assignments-from-github-classroom" class="level2">
<h2 class="anchored" data-anchor-id="steps-for-downloading-and-editing-assignments-from-github-classroom">Steps for downloading and editing assignments from GitHub Classroom</h2>
<p>The previous steps were for setting up the software in general. The next steps are specific to how you should manage using Git/GitHub/RStudio for <strong>this</strong> class</p>
<ol type="1">
<li>Have a folder specifically for this class (call it something like econ122). Within this folder, I would recommend a folder titled <strong>home</strong> (which will dynamically update the course materials) , as well a folder titled <strong>problem_sets</strong>.</li>
</ol>
<p>Here is a basic illustration of how my directory structure looks.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#fs::dir_tree(here::here(), recurse = F)</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#fs::dir_ls(here::here(), type = "directory")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>├── data
├── dataviz167-main
├── docs
├── exercises
├── figs
├── images
├── modules
├── omit
├── R
├── resources
└── syllabus</code></pre>
<pre><code>Users
│
│
│
└───gcook
    │
    │
    │
    └───git
        │
        │
        |
        |---dataviz23
            |
            |
            |---data
            |
            |
            |---r
            |    |
            |    |----src
            |    
            |
            |---figs
            |
            |
            |---?</code></pre>
<section id="problems-sets-and-group-projects" class="level3">
<h3 class="anchored" data-anchor-id="problems-sets-and-group-projects"><strong>Problems Sets and Group Projects</strong></h3>
<ol start="2" type="1">
<li>I will give you a link to an assignment, via the class page. This will happen for each new assignment. Note that after you accept an assignment for the first time, we will send you an invite to join the classroom organization as a member. Please accept this. You will probably get an email with the invitation, but you should also see a link at the top of your main GitHub page. Here is an image of what you should see after clicking the link:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/diamonds_full.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Alt Text</figcaption>
</figure>
</div>
</section>
<section id="x" class="level3">
<h3 class="anchored" data-anchor-id="x"><strong>X</strong></h3>
<ol start="3" type="1">
<li>Enter the problem set repository on GitHub (this is online–GitHub is different from Git!). Click “Code” and copy the link in the box to your clipboard.</li>
</ol>
</section>
<section id="x-1" class="level3">
<h3 class="anchored" data-anchor-id="x-1"><strong>X</strong></h3>
<ol start="4" type="1">
<li>In RStudio, go to File -&gt; New Project. Click Version Control, then Git. Paste the link you just copied into the Repository URL box. Leave the Project directory name blank. <strong>Create this as a subdirectory of your problem set folder.</strong> An RStudio project should now open up, which will allow you to start working on your problem set. You will probably see a blank console screen. However, in RStudio you should also see a list of all of the files available. Click on whatever file you want to edit (probably the .Rmd file) and edit away. If you save and close R Studio and want to go back to editing your project, open up R Studio, then go to File -&gt; Open Project. Navigate to the project directory and double click on the .Rproj file.</li>
</ol>
<p>Here is a visualization of cloning an assignment onto your computer through R Studio on a Mac:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="http://g.recordit.co/nKeMWFh4vS.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Alt Text</figcaption>
</figure>
</div>
</section>
<section id="x-2" class="level3">
<h3 class="anchored" data-anchor-id="x-2"><strong>X</strong></h3>
<ol start="5" type="1">
<li>After you make changes to the problem set, commit them. What are commits you ask? Commits are essentially taking a snapshot of your projects. For example, if I make changes to a code so that it prints “Hello world”, and then commit them with an informative message, I can look at the history of my commits and view the code that I wrote at that time. If I made some more changes to the function that resulted in an error, I could go back to the commit where the code was originally working. This prevents you from creating several versions of your problem set (PS1-v1, PS1-v2, …) or from trying to remember what your code originally looked like.</li>
</ol>
<p>You can make commits using the GIT toolbar in RStudio (in RStudio make sure the toolbar is visible by doing View -&gt; Show Toolbar). Jacob Fiksel has made a video on how to do this here (available under resources–How to clone, edit, and push homework assignments with GitHub Classroom), and you can read how to do this in RStudio in more detail here: http://r-pkgs.had.co.nz/git.html#git-init. Click the Commit button in the GIT toolbar dropdown menu. Check the files that you want to commit, enter your commit message, then hit Commit. Here is also a short GIF showing how to do this:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="http://g.recordit.co/96UWQ9Avy2.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Alt Text</figcaption>
</figure>
</div>
<p>Two things about committing. One, you should commit somewhat frequently. At minimum, if you’re doing a problem set, you should make a commit each time that you’ve finished a question. Two, leave informative commit messages. “Added stuff” will not help you if you’re looking at your commit history in a year. A message like “Added initial version of hello-world function” will be more useful.</p>
</section>
<section id="x-3" class="level3">
<h3 class="anchored" data-anchor-id="x-3"><strong>X</strong></h3>
<ol start="6" type="1">
<li>At some point you’ll want to get the updated version of the assignment back onto GitHub, either so that teachers/TAs can help you with your code, or so that it can be graded. You can do this by using a command called <code>git push</code>. If you are ready to push, you can again click on the GIT toolbar dropdown menu in RStudio, and then click <code>Push branch</code>. You can also do this after you commit in RStudio by clicking Push in the top right corner of the Commit pop-up box. Here is a visualization of both options:</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="http://g.recordit.co/TkOnIVLttw.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Alt Text</figcaption>
</figure>
</div>
<p><strong>Note: You don’t need to PUSH everytime you COMMIT. You only need to PUSH when you want to sync up with GitHub.</strong></p>
</section>
<section id="obtaining-and-pulling-a-shared-repository" class="level3">
<h3 class="anchored" data-anchor-id="obtaining-and-pulling-a-shared-repository">Obtaining and pulling a shared repository</h3>
<p>This class has a repository that includes all the files related to this class. The most important files you’ll be using are the in class <strong>activities</strong>. The repository will be updated throughout the semester, and it will be useful to constantly have the most updated materials on your local computer. You can do this by first cloning the repository, and then pulling in changes. Here are the steps.</p>
<ol type="1">
<li><p>Open a new project in RStudio and use the repository <strong>https://github.com/econ122-f22/home.git</strong>. Create it under the econ122 folder you setup earlier.</p></li>
<li><p>To pull in changes, goto the <strong>Git</strong> tab and click on <strong>Pull</strong>. If you get an error about merge conflict, don’t freak out! This can happen if you edit locations in files that are also changed by me. I’ll be doing my best to ensure this doesn’t happen, but if it does, simply contact your me to get it worked out. Or even better, try to google the error message and try to fix it yourself!</p></li>
</ol>
</section>
<section id="resources" class="level3">
<h3 class="anchored" data-anchor-id="resources">Resources</h3>
<ul>
<li><a href="http://happygitwithr.com/">Happy Git and GitHub for the useR</a></li>
<li><a href="http://seankross.com/the-unix-workbench/">The Unix Workbench</a></li>
<li><a href="http://learngitbranching.js.org/">Interactive learning guide for Git</a></li>
<li><a href="https://guides.github.com/">GitHub Guides</a></li>
<li><a href="https://youtu.be/F_fPEMnr1OQ">Git setup for Windows (video)</a></li>
<li><a href="https://www.youtube.com/watch?v=kbmSZwK0k-A&amp;t">Git setup for Mac (video)</a></li>
<li><a href="https://youtu.be/pAcMgGbCtQw">How to clone, edit, and push homework assignments with GitHub Classroom (video)</a></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      try { hash = new URL(url).hash; } catch {}
      const id = hash.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note !== null) {
        try {
          const html = processXRef(id, note);
          instance.setContent(html);
        } finally {
          instance.enable();
          instance.show();
        }
      } else {
        // See if we can fetch this
        fetch(url.split('#')[0])
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.getElementById(id);
          if (note !== null) {
            const html = processXRef(id, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>